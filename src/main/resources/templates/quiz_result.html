<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">
<head>
    <title>Quiz Result</title>
</head>
<body>

<div layout:fragment="content">
    <br/>
    <h3>Quiz completed successfully!</h3>
    <h4>Your score is: &nbsp;&nbsp;&nbsp;<b><span th:text="${quizResult.score + '%'}"/></b></h4><hr/>
    <!--<p><a th:href="@{/index}">Click here to go back to the main page</a></p>-->
    <div align="center">
        <button th:onclick="'share(' + ${quizResult.score} + ',\'' + ${quizResult.quiz.name} + '\');'">Share to Facebook</button>
       <h2 style="text-align: center">Feedback Form</h2>
        <iframe src="https://docs.google.com/forms/d/1JWsaoGHBHaFwy6WgtyHyo2gmENw-MndYKpB1xRf5Rkg/viewform?embedded=true" width="760" height="500" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>
    </div>
</div>


<section layout:fragment="scripts" >
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '236976676635446',
                xfbml      : true,
                version    : 'v2.5'
            });
        };

        function share(score, domain) {
            FB.ui({
                method: 'feed',
                link: 'https://policat.herokuapp.com',
                caption: "I just completed a "+domain+" quiz from PoliCAT!",
                description: "And I got a score of: "+score+"%",
                picture: '/images/knowledge.jpg'
            }, function(response){});
        }

        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
</section>
</body>
</html>